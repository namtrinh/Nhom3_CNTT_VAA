<div class="container">
  <h2 class="text-center">Update Product</h2>
  <form class="form" (ngSubmit)="OnSubmit()" enctype="multipart/form-data">
    <div>
      <div class="form-group text-center">
        <img [src]="imgAvatar" alt="Avatar Preview" style="max-width: 200px; max-height: 200px;">
        <input type="file" class="form-control" (change)="onFileSelected($event)" accept="image/*"
               style="width:50vh;display:flex;margin:0 auto;">
      </div>
      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name" name="name" [(ngModel)]="product.name">
      </div>

      <div class="form-group">
        <label for="quantity">Quantity</label>
        <input type="number" class="form-control" id="quantity" name="quantity"
               [(ngModel)]="product.quantity">
      </div>

      <div class="form-group">
        <label for="seotitle">Seotitle</label>
        <input type="text" class="form-control" id="seotitle" name="seotitle"
               [(ngModel)]="product.seotitle">
      </div>

      <div class="form-group">
        <label for="price">Price</label>
        <input type="number" class="form-control" id="price" name="price" [(ngModel)]="product.price">
      </div>

      <div class="form-group">
        <label for="promotion">Danh mục</label>
        <select class="form-control" id="promotion" [(ngModel)]="product.promotion.promotion_id" name="promotion">
          <option [ngValue]="null">-- Select promotion --</option>
          @for (promotions of promotion; track promotion) {
            <option [ngValue]="promotions.promotion_id">{{ promotions.pr_name }}</option>
          }
        </select>
      </div>

      <div class="form-group">
        <label for="categorySelect">Danh mục</label>
        <select class="form-control" id="categorySelect" [(ngModel)]="product.category.category_id" name="category">
          <option value="" disabled>-- Select category --</option>
          @for (categories of category; track category) {
            <option [value]="categories.category_id">{{ categories.name }}</option>
          }
        </select>
      </div>


      <div class="form-group text-center">
        <button class="btn btn-success mt-2" type="submit">Update</button>
      </div>
    </div>
  </form>
</div>
