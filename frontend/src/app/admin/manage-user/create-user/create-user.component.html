<div class="container mt-5">
  <form #createForm="ngForm" (ngSubmit)="OnSubmit()" enctype="multipart/form-data"
        class="p-4 border rounded shadow bg-white">
    <h3 class="text-center text-primary mb-4">Create User</h3>

    <div class="form-group mb-4">
      <label for="email" class="form-label fw-bold">Email Address</label>
      <input type="email" id="email" class="form-control" name="email" minlength="4" #email="ngModel" required
             placeholder="Enter your email" [(ngModel)]="user.email">
      @if (email.errors && (email.dirty || email.touched)) {
        <div class="invalid-feedback d-block">
          @if (email.errors?.['required']) {
            <div>Email is required.</div>
          }
          @if (email.errors?.['minlength']) {
            <div>At least 4 characters required.</div>
          }
        </div>
      }
    </div>

    <div class="form-group mb-4">
      <label for="username" class="form-label fw-bold">Username</label>
      <input type="text" id="username" class="form-control" name="username" minlength="8" required #username="ngModel"
             placeholder="Enter your username" [(ngModel)]="user.username">
      @if (username.errors && (username.dirty || username.touched)) {
        <div class="invalid-feedback d-block">
          @if (username.errors?.['required']) {
            <div>Username is required.</div>
          }
          @if (username.errors?.['minlength']) {
            <div>At least 8 characters required.</div>
          }
        </div>
      }
    </div>

    <div class="form-group mb-4">
      <label for="password" class="form-label fw-bold">Password</label>
      <input type="password" id="password" class="form-control" name="password" required #password="ngModel"
             placeholder="Enter your password" minlength="8" [(ngModel)]="user.password">
      @if (password.errors && (password.dirty || password.touched)) {
        <div class="invalid-feedback d-block">
          @if (password.errors?.['required']) {
            <div>Password is required.</div>
          }
          @if (password.errors?.['minlength']) {
            <div>At least 8 characters required.</div>
          }
        </div>
      }
    </div>

    <button type="submit" [disabled]="!createForm.valid" class="btn btn-primary w-100 py-2">
      Submit
    </button>

    @if (createForm.valid) {
      <div class="alert alert-success text-center mt-3">
        Form is valid! Ready to submit.
      </div>
    }
  </form>
</div>
